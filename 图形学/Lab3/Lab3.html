<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv = 'Content-Type' content='text/html; charset=utf-8'>
        <link type='text/css' rel='stylesheet' href='../../home.css'>
        <title>Lab3</title>
        <!--tree-->
        <script id="vertex-shader" type="x-shader/x-vertex">
            attribute vec4 vPosition;
            attribute vec4 vColor;

            varying vec4 pColor;
            void main(){
                gl_Position = vPosition;
                pColor = vColor;
                gl_PointSize = 10.0;
            }
        </script>
    
        <script id="fragment-shader" type="x-shader/x-fragment">
            precision mediump float;
            varying vec4 pColor;

            void main(){
                /*gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);*/
                if(gl_FragCoord.y < 128.0){
                    gl_FragColor = vec4(0.53, 0.0, 0.08, 1.0);//136,0,21
                }else{
                    gl_FragColor = vec4(0.13 ,0.69 ,0.30, 1.0);//34,177,76分别除256
                }

            }
        </script>
    
        <script type="text/javascript" src="js/common/webgl-utils.js"></script>
        <script type="text/javascript" src="js/common/initShaders.js"></script>
        <script type="text/javascript" src="js/common/gl-matrix-min.js"></script>

        <script type="text/javascript" src="js/tree.js"></script>
        <!--rot-->
        <script id="rot-v-shader" type="x-shader/x-vertex">
            attribute vec4 vPosition;
            uniform float theta;
        
            void main()
            {
                float u = cos( theta );
                float v = sin( theta );
        
                gl_Position.x = vPosition.x * u - vPosition.y * v;
                gl_Position.y = vPosition.x * v + vPosition.y * u;
                gl_Position.z = 0.0;
                gl_Position.w = 1.0;
            }
        </script>
    
        <script id="rot-f-shader" type="x-shader/x-fragment">
            precision mediump float;
        
            void main()
            {
                gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
            }
        </script>
        <script type="text/javascript" src="js/rot.js"></script>

    </head>
    <body>
        <h2>Lab3</h2><hr>
        <div>
            <h3>任务b：自己的那辐图</h3>
            <button id='show' onclick='decoration()'>装饰树</button><br>
            
            <canvas id='chirstmas-tree' height='512' width='512'></canvas>

            <script type='text/javascript'>
                function decoration(){
                    var canvas = document.getElementById('chirstmas-tree');
                    //获得2维绘图的上下文
                    var ctx=canvas.getContext("2d");
                    
                    //设置线宽
                    ctx.lineWidth=10;
                    //设置线的颜色
                    ctx.strokeStyle="blue";
                    
                    //将画笔移动到00点
                    ctx.moveTo(0,0);
                    //画线到800，600的坐标
                    ctx.lineTo(100,100);
                    
                    //执行画线
                    ctx.stroke();
                }
                
            </script>
        </div>
        <div>
            <h3>任务a：旋转的多边形</h3>
            <button id='rot' onclick='initRotSquare()'>查看图像</button><br>
            <button id='convert' onclick='convert()'>改变转动方向</button><br>
            <button id='changes' onclick='changeSpeed()'>调整转动速度</button>
            <input id='quick' name='change' type='radio' value='1' >太慢了，加快速度
            <input id='quick' name='change' type='radio' value='0' checked='checked'>刚刚好，保持不变
            <input id='slow' name='change' type='radio' value='-1' >太快了，减慢速度<br>
            <canvas id='rot-canvas' height='512' width='512'></canvas>    
        </div>
        
        
        
    </body>
</html>